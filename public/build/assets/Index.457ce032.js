import{L as m,o as n,c as i,e as g,a as t,F as c,g as p,d as u,t as l,n as x}from"./app.83c93666.js";import{M as h}from"./MainLayout.a8301bf1.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";const _={name:"index",layout:h,props:["accounts","sum","status"],data(){return{statusData:null}},components:{Link:m},methods:{updateAccount(e){const r=document.getElementById(`value[${e}]`).value;axios.patch(`/accounts/${e}`,{id:e,value:r}).then(o=>{this.statusData=o.data,this.showStatusData(e)}).catch(o=>console.log(o))},formatCost(e){return Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",currencyDisplay:"symbol",maximumFractionDigits:0}).format(e)},showStatusData(e){this.statusData===`ok
`?(document.getElementById(`imag[${e}]`).src="/img/success-image.png",document.getElementById(`imag[${e}]`).title=this.statusData):(document.getElementById(`imag[${e}]`).src="/img/error-image.png",document.getElementById(`imag[${e}]`).title=this.statusData)},onKeyDown(e){document.getElementById(`imag[${e}]`).src="/img/enter.png",document.getElementById(`imag[${e}]`).style.visibility="visible"},onClick(e){this.updateAccount(e),document.getElementById(`imag[${e}]`).style.visibility="visible"},getColorClass(e){switch(e){case 22:return"bg-green-100 border-green-200";case 23:return"bg-green-100 border-green-200";case 24:return"bg-red-100 border-red-200";case 25:return"bg-indigo-100 border-indigo-200";case 26:return"bg-blue-100 border-blue-200";case 27:return"bg-yellow-100 border-yellow-200"}}}},b={key:0,class:"mt-4 text-center"},f=t("p",{class:"bg-yellow-100 border-yellow-200 text-sm"},"\u0412\u043D\u0438\u043C\u0430\u043D\u0438\u0435: \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u043F\u043E\u043B\u0435\u0439 \u0433\u0435\u043D\u0435\u0440\u0438\u0440\u0443\u044E\u0442\u0441\u044F \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u043E",-1),w=[f],v={class:"flex flex-col"},C={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},I={class:"py-2 inline-block min-w-full sm:px-6 lg:px-8"},k={class:"overflow-hidden"},B={class:"min-w-full"},D=t("thead",{class:"border-b"},[t("tr",null,[t("th",{scope:"col",class:"text-sm hidden lg:table-cell font-medium font-bold text-gray-900 px-6 py-4 text-left"}," ## "),t("th",{scope:"col",class:"text-sm font-medium font-bold text-gray-900 px-6 py-4 text-left"}," \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0447\u0435\u0442\u0430 "),t("th",{scope:"col",class:"text-sm hidden lg:table-cell font-medium font-bold text-gray-900 px-6 py-4 text-left"}," \u0412\u0438\u0434 \u0441\u0447\u0435\u0442\u0430 "),t("th",{scope:"col",class:"text-sm text-center font-medium font-bold text-gray-900 px-6 py-4 text-left"}," \u0411\u0430\u043B\u0430\u043D\u0441 "),t("th",{scope:"col",class:"text-sm font-medium font-bold text-gray-900 px-6 py-4 text-left"}," \u0412\u0430\u043B\u044E\u0442\u0430 "),t("th",{scope:"col",class:"text-sm hidden xl:table-cell text-center font-medium font-bold text-gray-900 px-6 py-4 text-left"}," \u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 "),t("th",{scope:"col",class:"text-sm hidden md:table-cell text-center font-medium font-bold text-gray-900 px-6 py-4 text-left"}," \u0421\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u044C \u0432 \u20BD ")])],-1),$={class:"text-sm hidden lg:table-cell text-gray-900 w-20 font-light px-4 py-3 whitespace-nowrap"},E=["src"],V={class:"text-sm text-gray-900 font-light px-4 py-3"},F={class:"px-4 py-3 whitespace-nowrap hidden lg:table-cell text-sm font-medium text-gray-900"},L={class:"text-sm text-gray-900 font-light whitespace-nowrap"},N={class:"inline-block ml-3"},S=["onInput","id","value"],A={class:"inline-block align-middle ml-1.5 mr-1.5"},K=["onClick","id"],M={class:"text-sm text-gray-900 font-light px-4 py-3 whitespace-nowrap"},R={class:"text-sm hidden xl:table-cell text-gray-900 font-light px-4 py-3 whitespace-nowrap"},U={class:"text-sm hidden md:table-cell text-gray-900 font-light px-4 py-3 whitespace-nowrap"},z=["id"],H={class:"align-middle"},T={colspan:"100%",class:"text-sm text-right font-bold text-gray-900 px-4 py-3 whitespace-nowrap"};function j(e,r,o,q,G,a){return n(),i(c,null,[e.$page.props.auth.user?g("",!0):(n(),i("div",b,w)),t("div",v,[t("div",C,[t("div",I,[t("div",k,[t("table",B,[D,t("tbody",null,[(n(!0),i(c,null,p(o.accounts,s=>(n(),i("tr",{class:x(a.getColorClass(s.category_id)+" border-b")},[t("td",$,[t("img",{alt:"image",class:"img-fluid whitespace-nowrap",style:{height:"31px"},src:"/storage/"+s.image},null,8,E)]),t("td",V,l(s.title),1),t("td",F,l(s.category_title),1),t("td",L,[t("div",N,[t("input",{onInput:d=>a.onKeyDown(s.id),class:"rounded-full h-8 w-24 lg:w-40 min-w-full text-sm border-gray-400 text-right",id:"value["+s.id+"]",placeHolder:"value",type:"number",value:s.value},null,40,S)]),t("div",A,[t("img",{onClick:d=>a.onClick(s.id),id:"imag["+s.id+"]",title:"submit",class:"invisible cursor-pointer",src:"/img/enter.png",style:{width:"25px",height:"25px"},alt:"V"},null,8,K)])]),t("td",M,l(s.currency_title),1),t("td",R,l(s.comment),1),t("td",U,[t("span",{id:"cost["+s.id+"]"},l(a.formatCost(s.cost)),9,z)])],2))),256)),t("tr",H,[t("td",T,[u(" \u041E\u0431\u0449\u0438\u0439 \u0431\u0430\u043B\u0430\u043D\u0441 \u0441\u0447\u0435\u0442\u043E\u0432: "),t("u",null,l(a.formatCost(this.sum)),1)])])])])])])])])],64)}const Q=y(_,[["render",j]]);export{Q as default};
